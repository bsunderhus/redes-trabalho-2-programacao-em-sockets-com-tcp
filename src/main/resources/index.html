<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Trabalho de redes</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.css">
    <style>
        body {
            margin: 0;
        }
        .anchor{
            display: block;
            height: 64px;
            margin-top: -64px;
            visibility: hidden;
        }
    </style>
</head>
<body>
<header class="mdc-toolbar mdc-toolbar--fixed">
    <div class="mdc-toolbar__row">
        <section class="mdc-toolbar__section mdc-toolbar__section--align-start">
            <span class="mdc-toolbar__title">WebServer</span>
        </section>
        <section class="mdc-toolbar__section mdc-toolbar__section--align-end mdc-toolbar__section--shrink-to-fit">
            <nav id="tab-bar" class="mdc-tab-bar"  data-mdc-auto-init="MDCTabBar">
                <a class="mdc-tab" href="#introduction">Introdução</a>
                <a class="mdc-tab" href="#code_description">Descrição do Código</a>
                <a class="mdc-tab" href="#tests_description">Descrição de testes</a>
                <a class="mdc-tab" href="#conclusion">Conclusão</a>
                <span class="mdc-tab-bar__indicator"></span>
            </nav>
        </section>
    </div>
</header>
<main class="mdc-toolbar-fixed-adjust mdc-layout-grid">
    <div class="mdc-layout-grid__inner">
        <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-12 mdc-layout-grid__cell--align-middle">
            <span class="anchor" id="introduction"></span>
            <div class="mdc-card">
                <section class="mdc-card__primary">
                    <h1 class="mdc-card__title mdc-card__title--large">Introdução</h1>
                    <h2 class="mdc-card__subtitle">Subtitle here</h2>
                </section>
                <section class="mdc-card__supporting-text">
                    Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
                    tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim
                    veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea
                    commodo consequat.
                </section>
            </div>
        </div>
        <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-12  mdc-layout-grid__cell--align-middle">
            <span class="anchor" id="code_description"></span>
            <div class="mdc-card">
                <section class="mdc-card__primary">
                    <h1 class="mdc-card__title mdc-card__title--large">Descrição do Código</h1>
                    <a href="/code.html" class="mdc-button mdc-button--unelevated mdc-ripple-upgraded" data-mdc-auto-init="MDCRipple">
                        <i class="material-icons mdc-button__icon">code</i>
                        Código
                    </a>
                </section>
                <section class="mdc-card__supporting-text">
                    <p>
                        Com o objetivo de simplificar e manter sucinto o trabalho, o mesmo apresenta somente duas classe, <b>WebServer</b> e <b>WebServer.RespondThread</b>.
                    </p>
                    <p>
                        <b>Webserver</b> representa o servidor em si, sendo meramente uma classe que aglomera funções estáticas que são chamadas para o processamento das
                        mensagens que vem de um Socket. Os principais trabalhos do servidor são servir como porta de entrada para a aplicação, instaciar o serviço TCP,
                        manter vivo a conexão escutando a porta por novas requisições e inicializar Threads para o processamento, analise e resposta de mensagens.
                    </p>
                    <p>
                        A classe <b>Webserver.RespondThread</b> é a responsável por executar a invocação dos métodos estáticos declarados no servidor para processamento das mensagens.
                        Sendo assim responsável pela analise de validação da mesma e também responsável por responde-la.
                    </p>
                </section>
            </div>
        </div>
        <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-12  mdc-layout-grid__cell--align-middle">
            <span class="anchor" id="tests_description"></span>
            <div class="mdc-card">
                <section class="mdc-card__primary">
                    <h1 class="mdc-card__title mdc-card__title--large">Descrição dos Testes</h1>
                    <a href="/gif.gif" class="mdc-button mdc-button--unelevated mdc-ripple-upgraded" data-mdc-auto-init="MDCRipple">GIF</a>
                    <a href="/png.png" class="mdc-button mdc-button--unelevated mdc-ripple-upgraded" data-mdc-auto-init="MDCRipple">PNG</a>
                    <a href="/txt.txt" class="mdc-button mdc-button--unelevated mdc-ripple-upgraded" data-mdc-auto-init="MDCRipple">TXT</a>
                </section>
                <section class="mdc-card__supporting-text">
                    <p>
                        Os testes foram conduzidos com o auxilio de métodos nativos do próprio browser,
                        mais especificamente com a função
                        <b><a href="https://developer.mozilla.org/pt-BR/docs/Web/API/Fetch_API">fetch</a></b> da linguagem Javascript.
                    </p>
                    <p>
                        Fetch é um método disponível nos browsers mais modernos e é utilizado no desenvolvimento web para obtenção de pacotes HTTP.
                        Para acompanhar a invocação das funções fetch, basta <b>clicar</b> no elemento desejado da lista abaixo e acompanhar o resultado
                        da requisição pelo console do seu browser (recomendo chrome ou firefox), para acessar o console é só apertar F12 e procurar a aba <i>Console</i>.
                    </p>
                    <p>
                        <b>obs:</b> as ferramentas de desenvolvimento do browser normalmente também apresentam uma aba de
                         <i>Network</i>, que disponibiliza todas as requisições feitas e respostas recebidas.
                    </p>
                    <nav class="mdc-list">
                        <a onclick="headFetch(event)" href="/" class="mdc-list-item" data-mdc-auto-init="MDCRipple">
                            <span class="mdc-list-item__text">
                                HEAD / HTTP/1.0
                                <span class="mdc-list-item__text__secondary mdc-typography--caption">Retorna 200 Document Follows, porém, sem o conteúdo da mensagem</span>
                            </span>
                        </a>
                        <a onclick="getFetch(event)" href="/" class="mdc-list-item" data-mdc-auto-init="MDCRipple">
                            <span class="mdc-list-item__text">
                                GET / HTTP/1.0
                                <span class="mdc-list-item__text__secondary mdc-typography--caption">Retorna 200 Document Follows</span>
                            </span>
                        </a>
                        <a onclick="notFoundFetch(event)" href="/not-found" class="mdc-list-item" data-mdc-auto-init="MDCRipple">
                            <span class="mdc-list-item__text">
                                GET /not-found HTTP/1.0
                                <span class="mdc-list-item__text__secondary mdc-typography--caption">Retorna 404 pagina não encontrada</span>
                            </span>
                        </a>
                        <a onclick="blablablaFetch(event)" href="/" class="mdc-list-item" data-mdc-auto-init="MDCRipple">
                            <span class="mdc-list-item__text">
                                BLABLABLA / HTTP/1.0
                                <span class="mdc-list-item__text__secondary mdc-typography--caption">Retorna 400 Bad Request</span>
                            </span>
                        </a>
                    </nav>
                </section>
            </div>
        </div>
        <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-12  mdc-layout-grid__cell--align-middle">
            <span class="anchor" id="conclusion"></span>
            <div class="mdc-card">
                <section class="mdc-card__primary">
                    <h1 class="mdc-card__title mdc-card__title--large">Conclusão</h1>
                </section>
                <section class="mdc-card__supporting-text">
                    Feliz natal!
                </section>
            </div>
        </div>
    </div>
</main>
<script src="https://cdnjs.cloudflare.com/ajax/libs/fetch/2.0.3/fetch.min.js"></script>
<script src="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.js"></script>
<script>
mdc.autoInit()
function headFetch (e) {
    e.preventDefault()
    fetch('/', {method: 'HEAD'}).then(log)
}
function getFetch (e) {
    e.preventDefault()
    fetch('/').then(log)
}
function notFoundFetch (e) {
    e.preventDefault()
    fetch('/not-found').then(log)
}
function blablablaFetch (e) {
    e.preventDefault()
    fetch('/', {method: 'BLABLABLA'}).then(log)
}
async function log (response) {
    const body = await response.text()
    console.log(`${response.status} ${response.statusText}`)
    console.group('body')
    console.log(body)
    console.groupEnd()
}
</script>
</body>
</html>